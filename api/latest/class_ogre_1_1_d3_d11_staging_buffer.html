<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OGRE-Next: Ogre::D3D11StagingBuffer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="ogre_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ogre-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OGRE-Next
   &#160;<span id="projectnumber">4.0.0unstable</span>
   </div>
   <div id="projectbrief">Object-Oriented Graphics Rendering Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('class_ogre_1_1_d3_d11_staging_buffer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_ogre_1_1_d3_d11_staging_buffer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Ogre::D3D11StagingBuffer Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>NOTE FOR D3D12 PORTING: The GL3Plus implementation should be used as reference, since it is much lower level than this implementation for D3D11.  
 <a href="class_ogre_1_1_d3_d11_staging_buffer.html#details">More...</a></p>

<p><code>#include &lt;OgreD3D11StagingBuffer.h&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for Ogre::D3D11StagingBuffer:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_ogre_1_1_d3_d11_staging_buffer__inherit__graph.svg" width="395" height="187"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac79f3f3bf9ef8600dfa361f0456db25f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_d3_d11_staging_buffer.html#ac79f3f3bf9ef8600dfa361f0456db25f">D3D11StagingBuffer</a> (size_t sizeBytes, <a class="el" href="class_ogre_1_1_vao_manager.html">VaoManager</a> *vaoManager, bool uploadOnly, ID3D11Buffer *stagingBuffer, <a class="el" href="class_ogre_1_1_d3_d11_device.html">D3D11Device</a> &amp;device)</td></tr>
<tr class="separator:ac79f3f3bf9ef8600dfa361f0456db25f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8d8a77cd049a5d22053bbc58a80d0da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_d3_d11_staging_buffer.html#af8d8a77cd049a5d22053bbc58a80d0da">~D3D11StagingBuffer</a> () override</td></tr>
<tr class="separator:af8d8a77cd049a5d22053bbc58a80d0da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adab609b0c5db7badf5b93a795aaf4580"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_d3_d11_staging_buffer.html#adab609b0c5db7badf5b93a795aaf4580">_asyncDownload</a> (<a class="el" href="class_ogre_1_1_buffer_packed.html">BufferPacked</a> *source, size_t srcOffset, size_t srcLength) override</td></tr>
<tr class="memdesc:adab609b0c5db7badf5b93a795aaf4580"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copies the GPU data in <a class="el" href="class_ogre_1_1_buffer_packed.html">BufferPacked</a> to the <a class="el" href="class_ogre_1_1_staging_buffer.html" title="A staging buffer is a buffer that resides on the GPU and be written to/from both CPU &amp; GPU However th...">StagingBuffer</a> so that it can be later read by the CPU using an <a class="el" href="class_ogre_1_1_async_ticket.html" title="In Ogre 2.0 data structures, reading data from GPU back to CPU is asynchronous.">AsyncTicket</a>.  <a href="class_ogre_1_1_d3_d11_staging_buffer.html#adab609b0c5db7badf5b93a795aaf4580">More...</a><br /></td></tr>
<tr class="separator:adab609b0c5db7badf5b93a795aaf4580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26b777cb71562db37c99712ee266aa2c"><td class="memItemLeft" align="right" valign="top">ID3D11Buffer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_d3_d11_staging_buffer.html#a26b777cb71562db37c99712ee266aa2c">getBufferName</a> () const</td></tr>
<tr class="separator:a26b777cb71562db37c99712ee266aa2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a994aff1bc112598af02d3a75c53a4752"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_ogre.html#af48b48d39914b067541a62b674b80935">StagingStallType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_d3_d11_staging_buffer.html#a994aff1bc112598af02d3a75c53a4752">uploadWillStall</a> (size_t sizeBytes) override</td></tr>
<tr class="memdesc:a994aff1bc112598af02d3a75c53a4752"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if our next call to <a class="el" href="class_ogre_1_1_staging_buffer.html#ab58661498c6fd0e054a0c261ebb3bbcf" title="Maps the given amount of bytes.">map()</a> with the same parameters will stall.  <a href="class_ogre_1_1_d3_d11_staging_buffer.html#a994aff1bc112598af02d3a75c53a4752">More...</a><br /></td></tr>
<tr class="separator:a994aff1bc112598af02d3a75c53a4752"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_ogre_1_1_staging_buffer"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_ogre_1_1_staging_buffer')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_ogre_1_1_staging_buffer.html">Ogre::StagingBuffer</a></td></tr>
<tr class="memitem:abb4937c4f63bd15c0650146ba554efa3 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#abb4937c4f63bd15c0650146ba554efa3">StagingBuffer</a> (size_t internalBufferStart, size_t sizeBytes, <a class="el" href="class_ogre_1_1_vao_manager.html">VaoManager</a> *vaoManager, bool uploadOnly)</td></tr>
<tr class="separator:abb4937c4f63bd15c0650146ba554efa3 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f67923bab757fa39e66903935a621c0 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#a7f67923bab757fa39e66903935a621c0">~StagingBuffer</a> ()</td></tr>
<tr class="separator:a7f67923bab757fa39e66903935a621c0 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9db4541715b29e151043a09a24a527a inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#ad9db4541715b29e151043a09a24a527a">_cancelDownload</a> (size_t offset, size_t sizeBytes)</td></tr>
<tr class="memdesc:ad9db4541715b29e151043a09a24a527a inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases memory assigned to a download that hasn't been mapped yet, to make space for another _asyncDownload call.  <a href="class_ogre_1_1_staging_buffer.html#ad9db4541715b29e151043a09a24a527a">More...</a><br /></td></tr>
<tr class="separator:ad9db4541715b29e151043a09a24a527a inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf6789c54909d4f248cb69a3a8a04f3e inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top">const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#abf6789c54909d4f248cb69a3a8a04f3e">_mapForRead</a> (size_t offset, size_t sizeBytes)</td></tr>
<tr class="memdesc:abf6789c54909d4f248cb69a3a8a04f3e inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps the buffer for read acces for the CPU.  <a href="class_ogre_1_1_staging_buffer.html#abf6789c54909d4f248cb69a3a8a04f3e">More...</a><br /></td></tr>
<tr class="separator:abf6789c54909d4f248cb69a3a8a04f3e inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1facd7ade881eff937cd4ccfa998b83c inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#a1facd7ade881eff937cd4ccfa998b83c">addReferenceCount</a> ()</td></tr>
<tr class="memdesc:a1facd7ade881eff937cd4ccfa998b83c inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a reference count to the <a class="el" href="class_ogre_1_1_staging_buffer.html" title="A staging buffer is a buffer that resides on the GPU and be written to/from both CPU &amp; GPU However th...">StagingBuffer</a>.  <a href="class_ogre_1_1_staging_buffer.html#a1facd7ade881eff937cd4ccfa998b83c">More...</a><br /></td></tr>
<tr class="separator:a1facd7ade881eff937cd4ccfa998b83c inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad844466b16d039d78fe762a3e32f92c2 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#ad844466b16d039d78fe762a3e32f92c2">canDownload</a> (size_t length) const</td></tr>
<tr class="memdesc:ad844466b16d039d78fe762a3e32f92c2 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if this staging buffer has enough free space to use _asyncDownload.  <a href="class_ogre_1_1_staging_buffer.html#ad844466b16d039d78fe762a3e32f92c2">More...</a><br /></td></tr>
<tr class="separator:ad844466b16d039d78fe762a3e32f92c2 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55fde7ac828db275c0554d39f52adb7c inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_ogre.html#a00f119d555e251922c695ec569ccfd95">uint64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#a55fde7ac828db275c0554d39f52adb7c">getLastUsedTimestamp</a> () const</td></tr>
<tr class="memdesc:a55fde7ac828db275c0554d39f52adb7c inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the time in millisecond when the ref. count became 0.  <a href="class_ogre_1_1_staging_buffer.html#a55fde7ac828db275c0554d39f52adb7c">More...</a><br /></td></tr>
<tr class="separator:a55fde7ac828db275c0554d39f52adb7c inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdf4e13a8a6544f8bb063a3cc8471000 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_ogre.html#a5a7c15d68e8c7d585c410bc5a93682f4">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#afdf4e13a8a6544f8bb063a3cc8471000">getLifetimeThreshold</a> () const</td></tr>
<tr class="memdesc:afdf4e13a8a6544f8bb063a3cc8471000 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the time in milliseconds in which a <a class="el" href="class_ogre_1_1_staging_buffer.html" title="A staging buffer is a buffer that resides on the GPU and be written to/from both CPU &amp; GPU However th...">StagingBuffer</a> should live with a reference count of 0 before being deleted.  <a href="class_ogre_1_1_staging_buffer.html#afdf4e13a8a6544f8bb063a3cc8471000">More...</a><br /></td></tr>
<tr class="separator:afdf4e13a8a6544f8bb063a3cc8471000 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72e2d619a61b234feefbb4401fae83f5 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_ogre.html#a447e51d7625af79716667cebcfa6da57">MappingState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#a72e2d619a61b234feefbb4401fae83f5">getMappingState</a> () const</td></tr>
<tr class="separator:a72e2d619a61b234feefbb4401fae83f5 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6558ff3b1a53431ffa195b647be7a2a8 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#a6558ff3b1a53431ffa195b647be7a2a8">getMaxSize</a> ()</td></tr>
<tr class="separator:a6558ff3b1a53431ffa195b647be7a2a8 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3341e6c04dbb18e3e1e55868e15d3e6 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_ogre.html#a626dceff763286830a1ef619f5468ab0">int16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#ac3341e6c04dbb18e3e1e55868e15d3e6">getReferenceCount</a> () const</td></tr>
<tr class="separator:ac3341e6c04dbb18e3e1e55868e15d3e6 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e34a37e28c0e54502ada87450743ad0 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_ogre.html#a5a7c15d68e8c7d585c410bc5a93682f4">uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#a3e34a37e28c0e54502ada87450743ad0">getUnfencedTimeThreshold</a> () const</td></tr>
<tr class="memdesc:a3e34a37e28c0e54502ada87450743ad0 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the time in milliseconds in which a <a class="el" href="class_ogre_1_1_staging_buffer.html" title="A staging buffer is a buffer that resides on the GPU and be written to/from both CPU &amp; GPU However th...">StagingBuffer</a> should hazards unfenced while with a reference count of 0.  <a href="class_ogre_1_1_staging_buffer.html#a3e34a37e28c0e54502ada87450743ad0">More...</a><br /></td></tr>
<tr class="separator:a3e34a37e28c0e54502ada87450743ad0 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae05b671b655e0119ce740a06d20b4170 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#ae05b671b655e0119ce740a06d20b4170">getUploadOnly</a> () const</td></tr>
<tr class="memdesc:ae05b671b655e0119ce740a06d20b4170 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">When true, this buffer can only be used for uploading to GPU.  <a href="class_ogre_1_1_staging_buffer.html#ae05b671b655e0119ce740a06d20b4170">More...</a><br /></td></tr>
<tr class="separator:ae05b671b655e0119ce740a06d20b4170 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab58661498c6fd0e054a0c261ebb3bbcf inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#ab58661498c6fd0e054a0c261ebb3bbcf">map</a> (size_t sizeBytes)</td></tr>
<tr class="memdesc:ab58661498c6fd0e054a0c261ebb3bbcf inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps the given amount of bytes.  <a href="class_ogre_1_1_staging_buffer.html#ab58661498c6fd0e054a0c261ebb3bbcf">More...</a><br /></td></tr>
<tr class="separator:ab58661498c6fd0e054a0c261ebb3bbcf inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d425e7d85804eaa45c01f6476ec204a inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#a9d425e7d85804eaa45c01f6476ec204a">removeReferenceCount</a> ()</td></tr>
<tr class="memdesc:a9d425e7d85804eaa45c01f6476ec204a inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decreases the reference count by one.  <a href="class_ogre_1_1_staging_buffer.html#a9d425e7d85804eaa45c01f6476ec204a">More...</a><br /></td></tr>
<tr class="separator:a9d425e7d85804eaa45c01f6476ec204a inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a438d82f09b5f657be30c30d7d1c0801d inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#a438d82f09b5f657be30c30d7d1c0801d">unmap</a> (const <a class="el" href="struct_ogre_1_1_staging_buffer_1_1_destination.html">Destination</a> &amp;destination)</td></tr>
<tr class="memdesc:a438d82f09b5f657be30c30d7d1c0801d inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmaps the mapped region and copies the data to the given region.  <a href="class_ogre_1_1_staging_buffer.html#a438d82f09b5f657be30c30d7d1c0801d">More...</a><br /></td></tr>
<tr class="separator:a438d82f09b5f657be30c30d7d1c0801d inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c8e2853c21a7418218605a0b9cdf461 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#a9c8e2853c21a7418218605a0b9cdf461">unmap</a> (const <a class="el" href="struct_ogre_1_1_staging_buffer_1_1_destination.html">Destination</a> *destinations, size_t numDestinations)</td></tr>
<tr class="separator:a9c8e2853c21a7418218605a0b9cdf461 inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe091313c974edab09f0f9daabf8034d inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#afe091313c974edab09f0f9daabf8034d">unmap</a> (const <a class="el" href="class_ogre_1_1_staging_buffer.html#ae90c8303a85284ef6801919bfc4fdfd0">DestinationVec</a> &amp;destinations)</td></tr>
<tr class="memdesc:afe091313c974edab09f0f9daabf8034d inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmaps the mapped region and copies the data to multiple buffers.  <a href="class_ogre_1_1_staging_buffer.html#afe091313c974edab09f0f9daabf8034d">More...</a><br /></td></tr>
<tr class="separator:afe091313c974edab09f0f9daabf8034d inherit pub_methods_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_class_ogre_1_1_staging_buffer"><td colspan="2" onclick="javascript:toggleInherit('pub_types_class_ogre_1_1_staging_buffer')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_ogre_1_1_staging_buffer.html">Ogre::StagingBuffer</a></td></tr>
<tr class="memitem:ae90c8303a85284ef6801919bfc4fdfd0 inherit pub_types_class_ogre_1_1_staging_buffer"><td class="memItemLeft" align="right" valign="top">typedef vector&lt; <a class="el" href="struct_ogre_1_1_staging_buffer_1_1_destination.html">Destination</a> &gt;::type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ogre_1_1_staging_buffer.html#ae90c8303a85284ef6801919bfc4fdfd0">DestinationVec</a></td></tr>
<tr class="separator:ae90c8303a85284ef6801919bfc4fdfd0 inherit pub_types_class_ogre_1_1_staging_buffer"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>NOTE FOR D3D12 PORTING: The GL3Plus implementation should be used as reference, since it is much lower level than this implementation for D3D11. </p>
<p>A staging buffer is a buffer that resides on the GPU and be written to/from both CPU &amp; GPU However the access in both cases is limited. GPUs can only copy (i.e. memcpy) to another real buffer (can't be used directly as i.e. texture or vertex buffer) and CPUs can only map it. In other words, a staging buffer is an intermediate buffer to transfer data between CPU &amp; GPU </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac79f3f3bf9ef8600dfa361f0456db25f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac79f3f3bf9ef8600dfa361f0456db25f">&#9670;&nbsp;</a></span>D3D11StagingBuffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Ogre::D3D11StagingBuffer::D3D11StagingBuffer </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sizeBytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_ogre_1_1_vao_manager.html">VaoManager</a> *&#160;</td>
          <td class="paramname"><em>vaoManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>uploadOnly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ID3D11Buffer *&#160;</td>
          <td class="paramname"><em>stagingBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_ogre_1_1_d3_d11_device.html">D3D11Device</a> &amp;&#160;</td>
          <td class="paramname"><em>device</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af8d8a77cd049a5d22053bbc58a80d0da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8d8a77cd049a5d22053bbc58a80d0da">&#9670;&nbsp;</a></span>~D3D11StagingBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Ogre::D3D11StagingBuffer::~D3D11StagingBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="adab609b0c5db7badf5b93a795aaf4580"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adab609b0c5db7badf5b93a795aaf4580">&#9670;&nbsp;</a></span>_asyncDownload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Ogre::D3D11StagingBuffer::_asyncDownload </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_ogre_1_1_buffer_packed.html">BufferPacked</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>srcOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>srcLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copies the GPU data in <a class="el" href="class_ogre_1_1_buffer_packed.html">BufferPacked</a> to the <a class="el" href="class_ogre_1_1_staging_buffer.html" title="A staging buffer is a buffer that resides on the GPU and be written to/from both CPU &amp; GPU However th...">StagingBuffer</a> so that it can be later read by the CPU using an <a class="el" href="class_ogre_1_1_async_ticket.html" title="In Ogre 2.0 data structures, reading data from GPU back to CPU is asynchronous.">AsyncTicket</a>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_ogre_1_1_async_ticket.html" title="In Ogre 2.0 data structures, reading data from GPU back to CPU is asynchronous.">AsyncTicket</a>. </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>For internal use. May throw if it can't handle the request (i.e. requested size is too big, or too many _asyncDownload operations are pending until calling _mapForRead) </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_ogre_1_1_staging_buffer.html#ad844466b16d039d78fe762a3e32f92c2" title="Checks if this staging buffer has enough free space to use _asyncDownload.">canDownload</a> mUploadOnly must be true. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>The buffer to copy from. </td></tr>
    <tr><td class="paramname">srcOffset</td><td>The offset, in bytes, of the buffer to copy from. </td></tr>
    <tr><td class="paramname">srcLength</td><td>The size in bytes, of the data to transfer to this staging buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The offset in bytes that will be used by </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_ogre_1_1_staging_buffer.html#abf6789c54909d4f248cb69a3a8a04f3e" title="Maps the buffer for read acces for the CPU.">_mapForRead</a> </dd></dl>

<p>Implements <a class="el" href="class_ogre_1_1_staging_buffer.html#a3fed0b896633e63d9cb112c0ae026bd3">Ogre::StagingBuffer</a>.</p>

</div>
</div>
<a id="a26b777cb71562db37c99712ee266aa2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26b777cb71562db37c99712ee266aa2c">&#9670;&nbsp;</a></span>getBufferName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ID3D11Buffer* Ogre::D3D11StagingBuffer::getBufferName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="class_ogre_1_1_com_ptr.html#a0cb2c3f1260aa73847bc20b75469bdc1">Ogre::ComPtr&lt; T &gt;::Get()</a>.</p>

</div>
</div>
<a id="a994aff1bc112598af02d3a75c53a4752"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a994aff1bc112598af02d3a75c53a4752">&#9670;&nbsp;</a></span>uploadWillStall()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_ogre.html#af48b48d39914b067541a62b674b80935">StagingStallType</a> Ogre::D3D11StagingBuffer::uploadWillStall </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sizeBytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if our next call to <a class="el" href="class_ogre_1_1_staging_buffer.html#ab58661498c6fd0e054a0c261ebb3bbcf" title="Maps the given amount of bytes.">map()</a> with the same parameters will stall. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="namespace_ogre.html#af48b48d39914b067541a62b674b80935">StagingStallType</a> </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>Not all RenderSystems can accurately give this information and will always return STALL_PARTIAL (i.e. GLES2) The chances of getting a STALL_FULL get higher as sizeBytes gets closer to this-&gt;<a class="el" href="class_ogre_1_1_staging_buffer.html#a6558ff3b1a53431ffa195b647be7a2a8">getMaxSize()</a> mUploadOnly must be false. It is the counter side of </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_ogre_1_1_staging_buffer.html#ad844466b16d039d78fe762a3e32f92c2" title="Checks if this staging buffer has enough free space to use _asyncDownload.">canDownload</a> </dd></dl>

<p>Reimplemented from <a class="el" href="class_ogre_1_1_staging_buffer.html#ababb860ddfb4ecdf054766f145848465">Ogre::StagingBuffer</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_ogre_d3_d11_staging_buffer_8h.html">OgreD3D11StagingBuffer.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_ogre.html">Ogre</a></li><li class="navelem"><a class="el" href="class_ogre_1_1_d3_d11_staging_buffer.html">D3D11StagingBuffer</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
