<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OGRE-Next: Ogre::SkeletonAnimManager Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="ogre_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="ogre-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">OGRE-Next<span id="projectnumber">&#160;4.0.0unstable</span>
   </div>
   <div id="projectbrief">Object-Oriented Graphics Rendering Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('struct_ogre_1_1_skeleton_anim_manager.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="struct_ogre_1_1_skeleton_anim_manager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Ogre::SkeletonAnimManager Struct Reference<div class="ingroups"><a class="el" href="group___core.html">Core</a> &raquo; <a class="el" href="group___animation.html">Animation</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>This is how the Skeleton system works in 2.0: There is one <a class="el" href="class_ogre_1_1_bone_memory_manager.html" title="Wrap-around class that contains multiple ArrayMemoryManager, one per hierarchy depth.">BoneMemoryManager</a> per skeleton.  
 <a href="struct_ogre_1_1_skeleton_anim_manager.html#details">More...</a></p>

<p><code>#include &lt;OgreSkeletonAnimManager.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a98cfe511ba91e23e15045a8baf197354" id="r_a98cfe511ba91e23e15045a8baf197354"><td class="memItemLeft" align="right" valign="top">typedef list&lt; <a class="el" href="struct_ogre_1_1_by_skeleton_def.html">BySkeletonDef</a> &gt;::type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_ogre_1_1_skeleton_anim_manager.html#a98cfe511ba91e23e15045a8baf197354">BySkeletonDefList</a></td></tr>
<tr class="separator:a98cfe511ba91e23e15045a8baf197354"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afc5a0338f33505685a78a3476cca19e3" id="r_afc5a0338f33505685a78a3476cca19e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_ogre_1_1_skeleton_instance.html">SkeletonInstance</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_ogre_1_1_skeleton_anim_manager.html#afc5a0338f33505685a78a3476cca19e3">createSkeletonInstance</a> (const <a class="el" href="class_ogre_1_1_skeleton_def.html">SkeletonDef</a> *skeletonDef, size_t numWorkerThreads)</td></tr>
<tr class="memdesc:afc5a0338f33505685a78a3476cca19e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an instance of a skeleton based on the given definition.  <br /></td></tr>
<tr class="separator:afc5a0338f33505685a78a3476cca19e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9427616b2e6665921774f1b11c00531e" id="r_a9427616b2e6665921774f1b11c00531e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_ogre_1_1_skeleton_anim_manager.html#a9427616b2e6665921774f1b11c00531e">destroySkeletonInstance</a> (<a class="el" href="class_ogre_1_1_skeleton_instance.html">SkeletonInstance</a> *skeletonInstance)</td></tr>
<tr class="separator:a9427616b2e6665921774f1b11c00531e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a3b0f80233bcd1dc6b4664356674ec8" id="r_a1a3b0f80233bcd1dc6b4664356674ec8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_ogre_1_1_skeleton_anim_manager.html#a1a3b0f80233bcd1dc6b4664356674ec8">removeSkeletonDef</a> (const <a class="el" href="class_ogre_1_1_skeleton_def.html">SkeletonDef</a> *skeletonDef)</td></tr>
<tr class="separator:a1a3b0f80233bcd1dc6b4664356674ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a9d88700d4fb7416b52e5474b6db0c52b" id="r_a9d88700d4fb7416b52e5474b6db0c52b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_ogre_1_1_skeleton_anim_manager.html#a98cfe511ba91e23e15045a8baf197354">BySkeletonDefList</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_ogre_1_1_skeleton_anim_manager.html#a9d88700d4fb7416b52e5474b6db0c52b">bySkeletonDefs</a></td></tr>
<tr class="separator:a9d88700d4fb7416b52e5474b6db0c52b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is how the Skeleton system works in 2.0: There is one <a class="el" href="class_ogre_1_1_bone_memory_manager.html" title="Wrap-around class that contains multiple ArrayMemoryManager, one per hierarchy depth.">BoneMemoryManager</a> per skeleton. </p>
<p>That means the same <a class="el" href="class_ogre_1_1_bone_memory_manager.html" title="Wrap-around class that contains multiple ArrayMemoryManager, one per hierarchy depth.">BoneMemoryManager</a> manages the allocation of <a class="el" href="class_ogre_1_1_bone.html" title="Class representing a Bone in the join hierarchy of a skeleton.">Bone</a> data of all instances based on the same Skeleton definition. In other words, the skeletal animation system has been greatly optimized for the case where there are many instances sharing the same skeleton (regardless of how many animations are in use or if some instances use many more animations at the same time than others). </p><dl class="section user"><dt></dt><dd>At the same time, for multithreading purposes we keep track of all pointers we create and the variable "threadStarts" records where each thread should begin processing. Unlike nodes, we cannot just iterate through empty memory because each skeleton instance is too complex and somewhat heterogeneous. We also have to ensure that (e.g.) if skeletons[0] and skeletons[1] share the same memory block (which is granted by the <a class="el" href="class_ogre_1_1_bone_memory_manager.html" title="Wrap-around class that contains multiple ArrayMemoryManager, one per hierarchy depth.">BoneMemoryManager</a>), they get updated in the same thread. Otherwise race conditions will ensue, due to SIMD branchless selections inside <a class="el" href="class_ogre_1_1_skeleton_instance.html#ab7af08a3f6ad223b877a4dcbf9ad421b">SkeletonInstance::update</a>. </dd></dl>
<dl class="section user"><dt></dt><dd>Just like other managers (</dd></dl>
<dl class="section see"><dt>See also</dt><dd>mNodeMemoryManager), <a class="el" href="class_ogre_1_1_scene_manager.html" title="Manages the organisation and rendering of a &#39;scene&#39; i.e.">SceneManager</a> implementations may want to provide more than one <a class="el" href="struct_ogre_1_1_skeleton_anim_manager.html" title="This is how the Skeleton system works in 2.0: There is one BoneMemoryManager per skeleton.">SkeletonAnimManager</a> (i.e. one per octant) </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The same <a class="el" href="class_ogre_1_1_bone_memory_manager.html" title="Wrap-around class that contains multiple ArrayMemoryManager, one per hierarchy depth.">BoneMemoryManager</a> can't be used for multiple definitions because otherwise many SIMD opportunities are lost due to the heterogeneity of the data (a Skeleton may have 3 bones, 10 animations, another may have 6 bones, 2 animations, etc) unless we wasted a lot of RAM or perform a lot of book-keeping. </dd></dl>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a98cfe511ba91e23e15045a8baf197354" name="a98cfe511ba91e23e15045a8baf197354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98cfe511ba91e23e15045a8baf197354">&#9670;&#160;</a></span>BySkeletonDefList</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef list&lt;<a class="el" href="struct_ogre_1_1_by_skeleton_def.html">BySkeletonDef</a>&gt;::type <a class="el" href="struct_ogre_1_1_skeleton_anim_manager.html#a98cfe511ba91e23e15045a8baf197354">Ogre::SkeletonAnimManager::BySkeletonDefList</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="afc5a0338f33505685a78a3476cca19e3" name="afc5a0338f33505685a78a3476cca19e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc5a0338f33505685a78a3476cca19e3">&#9670;&#160;</a></span>createSkeletonInstance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_ogre_1_1_skeleton_instance.html">SkeletonInstance</a> * Ogre::SkeletonAnimManager::createSkeletonInstance </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_ogre_1_1_skeleton_def.html">SkeletonDef</a> *&#160;</td>
          <td class="paramname"><em>skeletonDef</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>numWorkerThreads</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates an instance of a skeleton based on the given definition. </p>

</div>
</div>
<a id="a9427616b2e6665921774f1b11c00531e" name="a9427616b2e6665921774f1b11c00531e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9427616b2e6665921774f1b11c00531e">&#9670;&#160;</a></span>destroySkeletonInstance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ogre::SkeletonAnimManager::destroySkeletonInstance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_ogre_1_1_skeleton_instance.html">SkeletonInstance</a> *&#160;</td>
          <td class="paramname"><em>skeletonInstance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1a3b0f80233bcd1dc6b4664356674ec8" name="a1a3b0f80233bcd1dc6b4664356674ec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a3b0f80233bcd1dc6b4664356674ec8">&#9670;&#160;</a></span>removeSkeletonDef()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Ogre::SkeletonAnimManager::removeSkeletonDef </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_ogre_1_1_skeleton_def.html">SkeletonDef</a> *&#160;</td>
          <td class="paramname"><em>skeletonDef</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9d88700d4fb7416b52e5474b6db0c52b" name="a9d88700d4fb7416b52e5474b6db0c52b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d88700d4fb7416b52e5474b6db0c52b">&#9670;&#160;</a></span>bySkeletonDefs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_ogre_1_1_skeleton_anim_manager.html#a98cfe511ba91e23e15045a8baf197354">BySkeletonDefList</a> Ogre::SkeletonAnimManager::bySkeletonDefs</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="_ogre_skeleton_anim_manager_8h.html">OgreSkeletonAnimManager.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_ogre.html">Ogre</a></li><li class="navelem"><a class="el" href="struct_ogre_1_1_skeleton_anim_manager.html">SkeletonAnimManager</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
