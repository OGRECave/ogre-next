<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OGRE-Next: Reference Guide: HLMS Terra Datablock</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="ogre_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="ogre-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">OGRE-Next<span id="projectnumber">&#160;3.0.0</span>
   </div>
   <div id="projectbrief">Object-Oriented Graphics Rendering Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('hlmsterradatablockref.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Reference Guide: HLMS Terra Datablock</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#dbtCommonParameters">Common Datablock Parameters:</a></li>
<li class="level1"><a href="#dbtTerraParameters">Terra Datablock Parameters</a><ul><li class="level2"><a href="#dbtParamBRDF">Parameter: brdf</a></li>
<li class="level2"><a href="#dbtParamDetailDiffuse">Parameter: detail[X]</a></li>
<li class="level2"><a href="#dbtParamDetailWeight">Parameter: detail_weight</a></li>
<li class="level2"><a href="#dbtParamDiffuse">Parameter: diffuse</a></li>
<li class="level2"><a href="#dbtParamReflection">Parameter: reflection</a></li>
</ul>
</li>
<li class="level1"><a href="#dbtExample">Example Terra Datablock Definition:</a><ul><ul><li class="level3"><a href="#dbtLinks">Links</a></li>
</ul>
</ul>
</li>
</ul>
</div>
<div class="textblock"><ul>
<li>Reference for a datablock for the Terra HLMS implementation</li>
<li>A Datablock is a "material" from the user's perspective. It is the only mutable block. It holds data (i.e. material properties) that will be passed directly to the shaders, and also holds which Macroblock, Blendblocks and Samplerblocks are assigned to it.</li>
<li>Datablocks are located in JSON material filename: <code>[name].material.json</code></li>
<li>When loading a texture, if no sampler is provided, a default one from the HLMS is supplied</li>
<li>All parameters are optional. Defaults are provided.</li>
</ul>
<h1><a class="anchor" id="dbtCommonParameters"></a>
Common Datablock Parameters:</h1>
<h1><a class="anchor" id="dbtTerraParameters"></a>
Terra Datablock Parameters</h1>
<h2><a class="anchor" id="dbtParamBRDF"></a>
Parameter: brdf</h2>
<ul>
<li>Defines the brdf mode</li>
<li>Valid values:<ul>
<li><code>default</code>: Most physically accurate BRDF <a class="el" href="namespace_ogre.html" title="bswapNN may be defined as macros in &lt;sys/endian.h&gt; or &lt;sys/bswap.h&gt;">Ogre</a> has.<ul>
<li>Uses: Good for representing the majority of materials.</li>
</ul>
</li>
<li><code>cook_torrance</code>: Cook-Torrance implementation of BRDF.<ul>
<li>Uses: Ideal for silk (use high roughness values) and synthetic fabrics.</li>
</ul>
</li>
<li><code>blinn_phong</code>: Implements Normalized Blinn Phong using a normalization factor of (n + 8) / (8 * pi). Looks similar to <code>default</code> but has increased performance.</li>
<li><code>default_uncorrelated</code>: Same as Default, but the geometry term is not height-correlated which most notably causes edges to be dimmer and is less correct.<ul>
<li>Uses: Closest resemblance to Unity if an exchangeable pipeline is advantageous.</li>
</ul>
</li>
<li><code>default_separate_diffuse_fresnel</code>: Same as Default but the fresnel of the diffuse is calculated differently. When using this BRDF, the diffuse fresnel will be calculated differently, causing the diffuse component to still affect the colour even when the fresnel = 1 (although subtly). To achieve a perfect mirror you will have to set the fresnel to 1 and the diffuse colour to black; which can be unintuitive for artists.<ul>
<li>Uses: Materials with complex refractions and reflections like glass, transparent plastics, fur, and surface with refractions and multiple rescattering that cannot be represented well with the default BRDF.</li>
</ul>
</li>
<li><code>cook_torrance_separate_diffuse_fresnel</code>: Similar to 'DefaultSeparateDiffuseFresnel' but the Cook Torrance model is used instead.<ul>
<li>Uses: Shiny objects like glass, toy marbles, some types of rubber, silk and synthetic fabric.</li>
</ul>
</li>
<li><code>blinn_phong_separate_diffuse_fresnel</code>: Similar to 'DefaultSeparateDiffuseFresnel' but uses BlinnPhong as base.</li>
</ul>
</li>
<li><b>DEFAULT="default"</b></li>
</ul>
<h2><a class="anchor" id="dbtParamDetailDiffuse"></a>
Parameter: detail[X]</h2>
<ul>
<li>Name of the detail map to be used</li>
<li>Can contain up to 4 detail blocks (<code>detail0</code> to <code>detail3</code>)</li>
<li>Block definition:<ul>
<li><code>diffuse_map</code>: Type string. The name of a diffuse map texture. Example: <code>"diffuse_map" : "texture.tga"</code> <b>OPTIONAL parameter</b></li>
<li><code>metalness</code> : Type float. Sets the metalness value of the detail texture. <b>DEFAULT=1.0</b></li>
<li><code>metalness_map</code>: Type string. The name of a metalness map texture. Example: <code>"metalness_map" : "texture.tga"</code> <b>OPTIONAL parameter</b></li>
<li><code>normal_map</code>: Type string. The name of a normal map texture. Example: <code>"normal_map" : "texture.tga"</code> <b>OPTIONAL parameter</b></li>
<li><code>offset</code>: Type Vector2 array. Sets the UV offset of the detail map. <b>DEFAULT=[0,0]</b></li>
<li><code>scale</code>: Type Vector2 array. Sets the UV scale of the detail map. <b>DEFAULT=[1,1]</b></li>
<li><code>roughness</code> : Type float. Sets the roughness value of the detail texture. Very low roughness values can cause NaNs in the pixel shader. <b>DEFAULT=1.0</b></li>
<li><code>roughness_map</code>: Type string. The name of a roughness map texture. Example: <code>"roughness_map" : "texture.tga"</code> <b>OPTIONAL parameter</b></li>
</ul>
</li>
<li>In this block you can specifiy a <code>texture</code> and <code>sampler</code> parameter OR a <code>diffuse_map</code> parameter.<ul>
<li><code>sampler</code>: Type string. The name of the sampler block definition to apply to the diffuse texture. <b>OPTIONAL parameter</b></li>
<li><code>texture</code>: Type string. The name of a texture. Example: <code>"texture" : "texture.tga"</code> <b>OPTIONAL parameter</b></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="dbtParamDetailWeight"></a>
Parameter: detail_weight</h2>
<ul>
<li>Defines a material's detail map properties</li>
<li>Block definition:<ul>
<li><code>sampler</code>: Type string. The name of the sampler block definition to apply to the diffuse texture. <b>OPTIONAL parameter</b></li>
<li><code>texture</code>: Type string. The name of a texture. Example: <code>"texture" : "texture.tga"</code> <b>OPTIONAL parameter</b></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="dbtParamDiffuse"></a>
Parameter: diffuse</h2>
<ul>
<li>Defines a material's diffuse properties</li>
<li>Block definition:<ul>
<li><code>sampler</code>: Type string. The name of the sampler block definition to apply to the diffuse texture. <b>OPTIONAL parameter</b></li>
<li><code>texture</code>: Type string. The name of a texture. Example: <code>"texture" : "texture.tga"</code> <b>OPTIONAL parameter</b></li>
<li><code>value</code>: Type vector3 array (RGB). Sets the diffuse colour (final multiplier). The colour will be divided by PI for energy conservation. <b>DEFAULT="[1, 1, 1]"</b></li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="dbtParamReflection"></a>
Parameter: reflection</h2>
<ul>
<li>Defines a material's reflection map. Must be a cubemap. Doesn't use an UV set because the texture coordinates are automatically calculated</li>
<li>Block definition:<ul>
<li><code>sampler</code>: Type string. The name of the sampler block definition to apply to the diffuse texture. <b>OPTIONAL parameter</b></li>
<li><code>texture</code>: Type string. The name of a texture. Example: <code>"texture" : "texture.tga"</code> <b>OPTIONAL parameter</b></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="dbtExample"></a>
Example Terra Datablock Definition:</h1>
<div class="fragment"><div class="line">{ </div>
<div class="line">    &quot;Terra&quot; : </div>
<div class="line">    {</div>
<div class="line">        &quot;[Material definition name]&quot; :</div>
<div class="line">        {</div>
<div class="line">            &quot;brdf&quot; : &quot;default&quot;,</div>
<div class="line">            &quot;detail0&quot; :</div>
<div class="line">            {</div>
<div class="line">                &quot;offset&quot; : [0, 0],</div>
<div class="line">                &quot;scale&quot; : [256, 256],</div>
<div class="line">                &quot;roughness&quot; : 1,</div>
<div class="line">                &quot;metalness&quot; : 1,</div>
<div class="line">                &quot;diffuse_map&quot; : &quot;texture.png&quot;,</div>
<div class="line">                &quot;roughness_map&quot; : &quot;texture.png&quot;,</div>
<div class="line">                &quot;metalness_map&quot; : &quot;texture.png&quot;,</div>
<div class="line">                &quot;sampler&quot; : &quot;default_sampler&quot;,</div>
<div class="line">                &quot;texture&quot; : &quot;texture.png&quot;</div>
<div class="line">            },</div>
<div class="line">            &quot;detail_weight&quot; :</div>
<div class="line">            {</div>
<div class="line">                &quot;sampler&quot; : &quot;default_sampler&quot;,</div>
<div class="line">                &quot;texture&quot; : &quot;detail_weight_texture.tga&quot;,</div>
<div class="line">            },</div>
<div class="line">            &quot;diffuse&quot; :</div>
<div class="line">            {</div>
<div class="line">                &quot;sampler&quot; : &quot;default_sampler&quot;,</div>
<div class="line">                &quot;texture&quot; : &quot;diffuse_texture.tga&quot;,</div>
<div class="line">                &quot;value&quot; : [1, 1, 1]</div>
<div class="line">            },</div>
<div class="line">            &quot;reflection&quot; :</div>
<div class="line">            {</div>
<div class="line">                &quot;sampler&quot; : &quot;default_sampler&quot;,</div>
<div class="line">                &quot;texture&quot; : &quot;reflective_texture.tga&quot;,</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="dbtLinks"></a>
Links</h3>
<ul>
<li><a href="https://ogrecave.github.io/ogre-next/api/2.3/hlms.html">Ogre 2.3 HLMS Manual</a></li>
<li><a href="https://ogrecave.github.io/ogre/api/latest/_material-_scripts.html#SEC23">Ogre 13.1 Material Script Manual</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="manual.html">Manual</a></li><li class="navelem"><a class="el" href="hlms.html">HLMS: High Level Material System</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
