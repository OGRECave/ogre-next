<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OGRE-Next: Reference Guide: HLMS Blendblock</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="ogre_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="ogre-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">OGRE-Next<span id="projectnumber">&#160;3.0.0</span>
   </div>
   <div id="projectbrief">Object-Oriented Graphics Rendering Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('hlmsblendblockref.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Reference Guide: HLMS Blendblock</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#bbParameters">Parameters:</a><ul><li class="level2"><a href="#bbParamAlphaToCoverage">Parameter: alpha_to_coverage</a></li>
<li class="level2"><a href="#bbParamBlendmask">Parameter: blendmask</a></li>
<li class="level2"><a href="#bbParamSeperateBlend">Parameter: separate_blend</a></li>
<li class="level2"><a href="#bbParamSorceBlendFactor">Parameter: src_blend_factor</a></li>
<li class="level2"><a href="#bbParamDestBlendFactor">Parameter: dst_blend_factor</a></li>
<li class="level2"><a href="#bbParamSourceAlphaBlendFactor">Parameter: src_alpha_blend_factor</a></li>
<li class="level2"><a href="#bbParamDestinationAlphaBlendFactor">Parameter: dst_alpha_blend_factor</a></li>
<li class="level2"><a href="#bbParamBlendOperation">Parameter: blend_operation</a></li>
<li class="level2"><a href="#bbParamBlendOperationAlpha">Parameter: blend_operation_alpha</a></li>
</ul>
</li>
<li class="level1"><a href="#bbExample">Example Blendblock Definition:</a></li>
<li class="level1"><a href="#bbBlendtypes">Scene blend type settings:</a><ul><li class="level2"><a href="#btTransparentAlpha">Type: Transparent Alpha</a></li>
<li class="level2"><a href="#btTransparentColour">Type: Transparent Colour</a></li>
<li class="level2"><a href="#btAdd">Type: Add</a></li>
<li class="level2"><a href="#btModulate">Type: Modulate</a></li>
<li class="level2"><a href="#btReplace">Type: Replace</a></li>
</ul>
</li>
<li class="level1"><a href="#bbLinks">Links</a></li>
</ul>
</div>
<div class="textblock"><ul>
<li>Blendblocks are like Macroblocks, but they hold alpha blending operation information (blend factors: One, One_Minus_Src_Alpha; blending modes: add, substract, min, max. etc). They're analogous to D3D11_BLEND_DESC. We also sort by blendblocks to reduce state changes.</li>
<li>Blendblocks are located in JSON material filename: <code>[name].material.json</code></li>
<li>A blend block contains settings that rarely change, and thus are common to many materials. The reasons this structure isn't joined with HlmsMacroblock is that: The D3D11 API makes this distinction (much higher API overhead if we change i.e. depth settings) due to D3D11_RASTERIZER_DESC.</li>
<li>This block contains information of whether the material is transparent. Transparent materials are sorted differently than opaque ones.</li>
<li>Up to 32 different blend blocks are allowed.</li>
<li>All parameters are optional. Defaults are provided.</li>
</ul>
<h1><a class="anchor" id="bbParameters"></a>
Parameters:</h1>
<h2><a class="anchor" id="bbParamAlphaToCoverage"></a>
Parameter: alpha_to_coverage</h2>
<ul>
<li>Alpha to coverage performs multisampling on the edges of alpha-rejected textures to produce a smoother result. It is only supported when multisampling is already enabled on the render target, and when the hardware supports alpha to coverage. The common use for alpha to coverage is foliage rendering and chain-link fence style textures.</li>
<li>Value is true or false</li>
<li><b>DEFAULT=false</b></li>
</ul>
<h2><a class="anchor" id="bbParamBlendmask"></a>
Parameter: blendmask</h2>
<ul>
<li>Masks which colour channels will be writing to. Value is a string up to four characters long and will contain the characters <code>r</code>, <code>g</code>, <code>b</code> and <code>a</code> corresponding to colour channels. For some advanced effects, you may wish to turn off the writing of certain colour channels, or even all of the colour channels so that only the depth buffer is updated in a rendering pass (if depth writes are on; may be you want to only update the stencil buffer)</li>
<li><b>DEFAULT="rgba"</b></li>
</ul>
<h2><a class="anchor" id="bbParamSeperateBlend"></a>
Parameter: separate_blend</h2>
<ul>
<li>Used to determine if separate alpha blending should be used for colour and alpha channels</li>
<li>Value is true or false</li>
<li><b>DEFAULT=false</b></li>
</ul>
<h2><a class="anchor" id="bbParamSorceBlendFactor"></a>
Parameter: src_blend_factor</h2>
<ul>
<li>Source blending factor for blending objects with the scene</li>
<li>Value is a string. Valid values:<ul>
<li><code>one</code>: Constant value of 1.0</li>
<li><code>zero</code>: Constant value of 0.0</li>
<li><code>dst_colour</code>: The existing pixel colour</li>
<li><code>src_colour</code>: The texture pixel (texel) colour</li>
<li><code>one_minus_dst_colour</code>: 1 - SBF_DEST_COLOUR</li>
<li><code>one_minus_src_colour</code>: 1 - SBF_SOURCE_COLOUR</li>
<li><code>dst_alpha</code>: The existing pixel alpha value</li>
<li><code>src_alpha</code>: The texel alpha value</li>
<li><code>one_minus_dst_alpha</code>: 1 - SBF_DEST_ALPHA</li>
<li><code>one_minus_src_alpha</code>: 1 - SBF_SOURCE_ALPHA</li>
</ul>
</li>
<li><b>DEFAULT="one"</b></li>
</ul>
<h2><a class="anchor" id="bbParamDestBlendFactor"></a>
Parameter: dst_blend_factor</h2>
<ul>
<li>Destination blending factor for blending objects with the scene</li>
<li>Value is a string. Valid values:<ul>
<li><code>one</code>, <code>zero</code>, <code>dst_colour</code>, <code>src_colour</code>, <code>one_minus_dst_colour</code>, <code>one_minus_src_colour</code>, <code>dst_alpha</code>, <code>src_alpha</code>, <code>one_minus_dst_alpha</code> and <code>one_minus_src_alpha</code></li>
<li>See "src_blend_factor" for full description.</li>
</ul>
</li>
<li><b>DEFAULT="zero"</b></li>
</ul>
<h2><a class="anchor" id="bbParamSourceAlphaBlendFactor"></a>
Parameter: src_alpha_blend_factor</h2>
<ul>
<li>Source blending factors for blending objects with the scene</li>
<li>Value is a string. Valid values:<ul>
<li><code>one</code>, <code>zero</code>, <code>dst_colour</code>, <code>src_colour</code>, <code>one_minus_dst_colour</code>, <code>one_minus_src_colour</code>, <code>dst_alpha</code>, <code>src_alpha</code>, <code>one_minus_dst_alpha</code> and <code>one_minus_src_alpha</code></li>
<li>See "src_blend_factor" for full description.</li>
</ul>
</li>
<li><b>DEFAULT="one"</b></li>
</ul>
<h2><a class="anchor" id="bbParamDestinationAlphaBlendFactor"></a>
Parameter: dst_alpha_blend_factor</h2>
<ul>
<li>Destination blending factor for blending objects with the scene</li>
<li>Value is a string. Valid values:<ul>
<li><code>one</code>, <code>zero</code>, <code>dst_colour</code>, <code>src_colour</code>, <code>one_minus_dst_colour</code>, <code>one_minus_src_colour</code>, <code>dst_alpha</code>, <code>src_alpha</code>, <code>one_minus_dst_alpha</code> and <code>one_minus_src_alpha</code></li>
<li>See "src_blend_factor" for full description.</li>
</ul>
</li>
<li><b>DEFAULT="zero"</b></li>
</ul>
<h2><a class="anchor" id="bbParamBlendOperation"></a>
Parameter: blend_operation</h2>
<ul>
<li>Sets the operation which is applied between the two components of the scene blending equation</li>
<li>Value is a string. Valid values:<ul>
<li><code>add</code>, <code>subtract</code>, <code>reverse_subtract</code>, <code>min</code> and <code>max</code></li>
</ul>
</li>
<li><b>DEFAULT="add"</b></li>
</ul>
<h2><a class="anchor" id="bbParamBlendOperationAlpha"></a>
Parameter: blend_operation_alpha</h2>
<ul>
<li>Sets the operation which is applied between the two components of the scene blending equation except this sets the alpha separately.</li>
<li>Value is a string. Valid values:<ul>
<li><code>add</code>, <code>subtract</code>, <code>reverse_subtract</code>, <code>min</code> and <code>max</code></li>
</ul>
</li>
<li><b>DEFAULT="add"</b></li>
</ul>
<h1><a class="anchor" id="bbExample"></a>
Example Blendblock Definition:</h1>
<div class="fragment"><div class="line">{</div>
<div class="line">    &quot;blendblocks&quot; :</div>
<div class="line">    {</div>
<div class="line">        &quot;[blendblock definition name]&quot; :</div>
<div class="line">        {</div>
<div class="line">            &quot;alpha_to_coverage&quot; : false,</div>
<div class="line">            &quot;blendmask&quot; : &quot;rgba&quot;,</div>
<div class="line">            &quot;separate_blend&quot; : false,</div>
<div class="line">            &quot;src_blend_factor&quot; : &quot;one&quot;,</div>
<div class="line">            &quot;dst_blend_factor&quot; : &quot;zero&quot;,</div>
<div class="line">            &quot;src_alpha_blend_factor&quot; : &quot;one&quot;,</div>
<div class="line">            &quot;dst_alpha_blend_factor&quot; : &quot;zero&quot;,</div>
<div class="line">            &quot;blend_operation&quot; : &quot;add&quot;,</div>
<div class="line">            &quot;blend_operation_alpha&quot; : &quot;add&quot;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> <h1><a class="anchor" id="bbBlendtypes"></a>
Scene blend type settings:</h1>
<p>These are some settings for common blending types.</p>
<h2><a class="anchor" id="btTransparentAlpha"></a>
Type: Transparent Alpha</h2>
<ul>
<li>Make the object transparent based on the final alpha values in the texture. Settings:<ul>
<li>"src_blend_factor" : "src_alpha"</li>
<li>"dst_blend_factor" : "one_minus_src_alpha"</li>
<li>"src_alpha_blend_factor" : "src_alpha"</li>
<li>"dst_alpha_blend_factor" : "one_minus_src_alpha"</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="btTransparentColour"></a>
Type: Transparent Colour</h2>
<ul>
<li>Make the object transparent based on the colour values in the texture (brighter = more opaque) Settings:<ul>
<li>"src_blend_factor" : "src_colour"</li>
<li>"dst_blend_factor" : "one_minus_src_colour"</li>
<li>"src_alpha_blend_factor" : "src_colour"</li>
<li>"dst_alpha_blend_factor" : "one_minus_src_colour"</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="btAdd"></a>
Type: Add</h2>
<ul>
<li>Add the texture values to the existing scene content. Settings:<ul>
<li>"src_blend_factor" : "one"</li>
<li>"dst_blend_factor" : "one"</li>
<li>"src_alpha_blend_factor" : "one"</li>
<li>"dst_alpha_blend_factor" : "one"</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="btModulate"></a>
Type: Modulate</h2>
<ul>
<li>Multiply the 2 colours together. Settings:<ul>
<li>"src_blend_factor" : "dst_colour"</li>
<li>"dst_blend_factor" : "zero"</li>
<li>"src_alpha_blend_factor" : "dst_colour"</li>
<li>"dst_alpha_blend_factor" : "zero"</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="btReplace"></a>
Type: Replace</h2>
<ul>
<li>The default blend mode where source replaces destination. Settings:<ul>
<li>"src_blend_factor" : "one"</li>
<li>"dst_blend_factor" : "zero"</li>
<li>"src_alpha_blend_factor" : "one"</li>
<li>"dst_alpha_blend_factor" : "zero"</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="bbLinks"></a>
Links</h1>
<ul>
<li><a href="https://ogrecave.github.io/ogre-next/api/2.3/hlms.html">Ogre 2.3 HLMS Manual</a></li>
<li><a href="https://ogrecave.github.io/ogre/api/latest/_material-_scripts.html#SEC23">Ogre 13.1 Material Script Manual</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="manual.html">Manual</a></li><li class="navelem"><a class="el" href="hlms.html">HLMS: High Level Material System</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
