<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OGRE-Next: What&#39;s new in Ogre-Next 3.0</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="ogre_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="ogre-logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">OGRE-Next<span id="projectnumber">&#160;3.0.0</span>
   </div>
   <div id="projectbrief">Object-Oriented Graphics Rendering Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_ogre30_changes.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">What's new in Ogre-Next 3.0</div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md63">Ogre to OgreNext name migration</a></li>
<li class="level1"><a href="#autotoc_md64">PBS Changes in 3.0</a></li>
<li class="level1"><a href="#autotoc_md65">Hlms Shader piece changes</a></li>
<li class="level1"><a href="#autotoc_md66">AbiCookie</a></li>
<li class="level1"><a href="#autotoc_md67">Move to C++11 and general cleanup</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="autotoc_md63"></a>
Ogre to OgreNext name migration</h1>
<p>We're trying to make <a href="https://github.com/OGRECave/ogre-next/issues/232">OgreNext and Ogre able to be installed side-by-side</a>.</p>
<p>This is particularly important in Linux systems which rely on shared, centralized packages managed by package managers.</p>
<p>However this also benefits affect Windows apps that are able to select between <a class="el" href="namespace_ogre.html" title="bswapNN may be defined as macros in &lt;sys/endian.h&gt; or &lt;sys/bswap.h&gt;">Ogre</a> and OgreNext at runtime.</p>
<p>One of the main issues is that DLLs are the same. i.e. <code>OgreMain.dll</code> or <code>libOgreMain.so</code> may refer to either <a class="el" href="namespace_ogre.html" title="bswapNN may be defined as macros in &lt;sys/endian.h&gt; or &lt;sys/bswap.h&gt;">Ogre</a> or OgreNext.</p>
<p>That's why <b>we added the CMake option <code>OGRE_USE_NEW_PROJECT_NAME</code></b></p>
<p>When enabled, the project names will be <code>OgreNext</code> instead of <code><a class="el" href="namespace_ogre.html" title="bswapNN may be defined as macros in &lt;sys/endian.h&gt; or &lt;sys/bswap.h&gt;">Ogre</a></code>. e.g. the following projects are affected (enunciative):</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Old Name   </th><th class="markdownTableHeadNone">New Name    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">OgreMain.dll   </td><td class="markdownTableBodyNone">OgreNextMain.dll    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">OgreHlmsPbs.dll   </td><td class="markdownTableBodyNone">OgreNextHlmsPbs.dll    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">OgreHlmsUnlit.dll   </td><td class="markdownTableBodyNone">OgreNextHlmsUnlit.dll    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">OgreMeshLodGenerator.dll   </td><td class="markdownTableBodyNone">OgreNextMeshLodGenerator.dll    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">OgreOverlay.dll   </td><td class="markdownTableBodyNone">OgreNextOverlay.dll    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">OgreSceneFormat.dll   </td><td class="markdownTableBodyNone">OgreNextSceneFormat.dll    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">libOgreMain.so   </td><td class="markdownTableBodyNone">libOgreNextMain.so    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">libOgreHlmsPbs.so   </td><td class="markdownTableBodyNone">libOgreNextHlmsPbs.so    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">libOgreHlmsUnlit.so   </td><td class="markdownTableBodyNone">libOgreNextHlmsUnlit.so    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">libOgreMeshLodGenerator.so   </td><td class="markdownTableBodyNone">libOgreNextMeshLodGenerator.so    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">libOgreOverlay.so   </td><td class="markdownTableBodyNone">libOgreNextOverlay.so    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">libOgreSceneFormat.so   </td><td class="markdownTableBodyNone">libOgreNextSceneFormat.so   </td></tr>
</table>
<p>We understand this change can wreak havoc on our users who have scripts expecting to find OgreMain instead of OgreNextMain.</p>
<p><b>Which is why this option will be off by default in OgreNext 3.0; but will be turned on by default in OgreNext 4.0</b></p>
<p><b>The CMake option is scheduled for removal in OgreNext 5.0</b></p>
<p><code>EmptyProject</code>'s and Android's scripts have been updated to autodetect which name is being used and select between <a class="el" href="namespace_ogre.html" title="bswapNN may be defined as macros in &lt;sys/endian.h&gt; or &lt;sys/bswap.h&gt;">Ogre</a> and OgreNext and CMake config time.</p>
<p>Make sure to upgrade to latest CMake scripts if you're using them; to be ready for all changes.</p>
<h1><a class="anchor" id="autotoc_md64"></a>
PBS Changes in 3.0</h1>
<p>Default material BRDF settings have changed in 3.0; thus materials will look different.</p>
<p>See <a class="el" href="_p_b_s_changes_in30.html">PBR / PBS Changes in 3.0</a> to how make them look like they did in 2.3 and what these changes mean.</p>
<h1><a class="anchor" id="autotoc_md65"></a>
Hlms Shader piece changes</h1>
<p>The piece block <code>LoadNormalData</code> got split into <code>LoadGeomNormalData</code> &amp; <code>LoadNormalData</code> in order to support Decals in Terra.</p>
<p>If you were overriding <code>LoadNormalData</code> in a custom piece, make sure to account for the new <code>LoadGeomNormalData</code>.</p>
<h1><a class="anchor" id="autotoc_md66"></a>
AbiCookie</h1>
<p>Creating Root changed slightly. One must now provide the <a class="el" href="struct_ogre_1_1_abi_cookie.html">Ogre::AbiCookie</a>:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code hl_struct" href="struct_ogre_1_1_abi_cookie.html">Ogre::AbiCookie</a> abiCookie = <a class="code hl_function" href="namespace_ogre.html#ad22a4c18d678c98c1d5abc2bbe324148">Ogre::generateAbiCookie</a>();</div>
<div class="line">mRoot = <a class="code hl_define" href="_ogre_memory_allocator_config_8h.html#ab5fc1358fd5a889de0a06d07e45df1ff">OGRE_NEW</a> <a class="code hl_class" href="class_ogre_1_1_root.html">Ogre::Root</a>( &amp;abiCookie, pluginsPath, cfgPath,</div>
<div class="line">                         mWriteAccessFolder + <span class="stringliteral">&quot;Ogre.log&quot;</span>, windowTitle );</div>
<div class="ttc" id="a_ogre_memory_allocator_config_8h_html_ab5fc1358fd5a889de0a06d07e45df1ff"><div class="ttname"><a href="_ogre_memory_allocator_config_8h.html#ab5fc1358fd5a889de0a06d07e45df1ff">OGRE_NEW</a></div><div class="ttdeci">#define OGRE_NEW</div><div class="ttdoc">new / delete for classes deriving from AllocatedObject (alignment determined by per-class policy)</div><div class="ttdef"><b>Definition</b> OgreMemoryAllocatorConfig.h:368</div></div>
<div class="ttc" id="aclass_ogre_1_1_root_html"><div class="ttname"><a href="class_ogre_1_1_root.html">Ogre::Root</a></div><div class="ttdoc">The root class of the Ogre system.</div><div class="ttdef"><b>Definition</b> OgreRoot.h:71</div></div>
<div class="ttc" id="anamespace_ogre_html_ad22a4c18d678c98c1d5abc2bbe324148"><div class="ttname"><a href="namespace_ogre.html#ad22a4c18d678c98c1d5abc2bbe324148">Ogre::generateAbiCookie</a></div><div class="ttdeci">FORCEINLINE AbiCookie generateAbiCookie()</div><div class="ttdoc">generateAbiCookie Generates a cookie containing all (or most) relevant settings that determine ABI co...</div><div class="ttdef"><b>Definition</b> OgreAbiUtils.h:59</div></div>
<div class="ttc" id="astruct_ogre_1_1_abi_cookie_html"><div class="ttname"><a href="struct_ogre_1_1_abi_cookie.html">Ogre::AbiCookie</a></div><div class="ttdef"><b>Definition</b> OgreAbiUtils.h:47</div></div>
</div><!-- fragment --><p>The ABI cookie is a verification step to validate the version of OgreNext your project was compiled against is the same one as the library being loaded. This includes relevant CMake options that would cause the ABI to change and cause subtle runtime corruption (e.Debug vs Release, <code>OGRE_BUILD_COMPONENT_PLANAR_REFLECTIONS</code>, <code>OGRE_FLEXIBILITY_LEVEL</code>, <code>OGRE_CONFIG_THREAD_PROVIDER</code>, etc).</p>
<p>See <a class="el" href="namespace_ogre.html#a68a622e648da10c53f0729f98dd6a5b3" title="testAbiCookie Tests the given clientCookie (generated by generateAbiCookie) against a cookie generate...">Ogre::testAbiCookie</a> for information of what to look for if the ABI cookie fails.</p>
<p>The AbiCookie may not catch all possible ABI mismatch issues, but it will catch the most common known ones.</p>
<p>Note that <a class="el" href="namespace_ogre.html#ad22a4c18d678c98c1d5abc2bbe324148" title="generateAbiCookie Generates a cookie containing all (or most) relevant settings that determine ABI co...">Ogre::generateAbiCookie</a> is <code>FORCEINLINE</code> because it must see your project's settings.</p>
<h1><a class="anchor" id="autotoc_md67"></a>
Move to C++11 and general cleanup</h1>
<p>Lots of dead &amp; long-deprecated code was removed. See <a class="el" href="_resolving_merge_conflicts30.html">Resolving Merge Conflicts in Ogre-Next 3.0</a> for more help with C++11 changes.</p>
<ul>
<li>Remove D3D9</li>
<li>Remove Terrain</li>
<li>Remove RTShaderSystem</li>
<li>Remove NaCL</li>
<li>Remove dead SceneManagers</li>
<li>Remove <code>( void )</code> from empty functions</li>
<li>Remove StaticGeometry</li>
<li>Remove files under <code>Deprecated/</code> folders</li>
<li>Move to C++11<ul>
<li>Remove code under <code>__cplusplus</code> that uses <code>&lt; 201103L</code> <code>&gt;= 201103L</code> or numbers below 201103L</li>
</ul>
</li>
<li>Math::Log2 should use log2</li>
<li>All virtuals must have <code>overload</code> keyword</li>
<li>Remove <code>HardwareUniformBuffer</code>, <code>HardwareCounterBuffer</code></li>
<li>Fix many warnings.</li>
<li>Clean up Media folder and remove unused stuff from <a class="el" href="namespace_ogre.html" title="bswapNN may be defined as macros in &lt;sys/endian.h&gt; or &lt;sys/bswap.h&gt;">Ogre</a> samples.</li>
<li>Add ASAN CMake option.</li>
<li>Use OGRE_DEPRECATED.</li>
<li>Add cmake option to embed debug level into OgreBuildSettings.<ul>
<li>Bakes OGRE_DEBUG_MODE into OgreBuildSettings.h; which is on by default on Ninja/GNU Make generators and disabled for the rest.</li>
</ul>
</li>
<li>Pass cookie to <a class="el" href="namespace_ogre.html" title="bswapNN may be defined as macros in &lt;sys/endian.h&gt; or &lt;sys/bswap.h&gt;">Ogre</a> Root initialization to catch obvious ABI errors. Each library could call checkAbiCookie on initialization to avoid problems</li>
<li>Default to clang's ld linker on Linux, i.e. <code>set( CMAKE_EXE_LINKER_FLAGS "-fuse-ld=lld" )</code></li>
<li>Remove <code>OgreShadowVolumeExtrudeProgram.cpp</code></li>
<li>Deprecate <code>SceneManager::setFog</code></li>
<li>Remove <code>getShadowCasterVertex</code></li>
<li>Remove memory allocator stuff (see <a class="el" href="namespace_ogre.html" title="bswapNN may be defined as macros in &lt;sys/endian.h&gt; or &lt;sys/bswap.h&gt;">Ogre</a> 1.x)</li>
<li>Remove nedmalloc</li>
<li>Typedef SharedPtr to std::shared_ptr (see <a class="el" href="namespace_ogre.html" title="bswapNN may be defined as macros in &lt;sys/endian.h&gt; or &lt;sys/bswap.h&gt;">Ogre</a> 1.x) </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="manual.html">Manual</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
