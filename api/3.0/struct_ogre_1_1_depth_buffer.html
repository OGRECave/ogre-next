<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OGRE-Next: Ogre::DepthBuffer Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="ogre_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ogre-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OGRE-Next
   &#160;<span id="projectnumber">3.0.0</span>
   </div>
   <div id="projectbrief">Object-Oriented Graphics Rendering Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('struct_ogre_1_1_depth_buffer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="struct_ogre_1_1_depth_buffer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Ogre::DepthBuffer Struct Reference<div class="ingroups"><a class="el" href="group___core.html">Core</a> &raquo; <a class="el" href="group___render_system.html">RenderSystem</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>An abstract class that contains a depth/stencil buffer.  
 <a href="struct_ogre_1_1_depth_buffer.html#details">More...</a></p>

<p><code>#include &lt;OgreDepthBuffer.h&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for Ogre::DepthBuffer:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="struct_ogre_1_1_depth_buffer__inherit__graph.svg" width="191" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a5b113673ee58204611c3435ee59b7225"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_ogre_1_1_depth_buffer.html#a5b113673ee58204611c3435ee59b7225">DepthFormatsMask</a> { <a class="el" href="struct_ogre_1_1_depth_buffer.html#a5b113673ee58204611c3435ee59b7225aa6724a255845f99abc25abaff6ac6183">DFM_D32</a> = 1u &lt;&lt; 0u
, <a class="el" href="struct_ogre_1_1_depth_buffer.html#a5b113673ee58204611c3435ee59b7225a73a587e516857ae5f3b0d019b712476d">DFM_D24</a> = 1u &lt;&lt; 1u
, <a class="el" href="struct_ogre_1_1_depth_buffer.html#a5b113673ee58204611c3435ee59b7225a5d34cd4789c64c96712df4ea09ef8d09">DFM_D16</a> = 1u &lt;&lt; 2u
, <a class="el" href="struct_ogre_1_1_depth_buffer.html#a5b113673ee58204611c3435ee59b7225a5beda99101555b15ed1a2e4d66c9efe0">DFM_S8</a> = 1u &lt;&lt; 3u
 }</td></tr>
<tr class="separator:a5b113673ee58204611c3435ee59b7225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9854c57374adef41216bae68544a5b7e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_ogre_1_1_depth_buffer.html#a9854c57374adef41216bae68544a5b7e">PoolId</a> { <br />
&#160;&#160;<a class="el" href="struct_ogre_1_1_depth_buffer.html#a9854c57374adef41216bae68544a5b7ea569228ed0fdd8d428a5117026b6d010e">POOL_NO_DEPTH</a> = 0
, <a class="el" href="struct_ogre_1_1_depth_buffer.html#a9854c57374adef41216bae68544a5b7ea35634a45046af55e08feb81bd5ecbb94">OGRE_DEPRECATED_ENUM_VER</a> =( 3 ) = 0
, <a class="el" href="struct_ogre_1_1_depth_buffer.html#a9854c57374adef41216bae68544a5b7ea00a687046bfe7a9ebd7f34256d3fbcca">POOL_DEFAULT</a> = 1
, <a class="el" href="struct_ogre_1_1_depth_buffer.html#a9854c57374adef41216bae68544a5b7ea35634a45046af55e08feb81bd5ecbb94">OGRE_DEPRECATED_ENUM_VER</a> =( 3 ) = 0
, <br />
&#160;&#160;<a class="el" href="struct_ogre_1_1_depth_buffer.html#a9854c57374adef41216bae68544a5b7ea5f03ed32b2322daad0f7799072e37cea">NO_POOL_EXPLICIT_RTV</a> = 65534
, <a class="el" href="struct_ogre_1_1_depth_buffer.html#a9854c57374adef41216bae68544a5b7eaf4cd568faf89ee1f03710fefbf8386ca">POOL_INVALID</a> = 65535
<br />
 }</td></tr>
<tr class="separator:a9854c57374adef41216bae68544a5b7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:aab0756add3d02bac99eab8e030434def"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_ogre.html#a9212e2b4c7d29d6fae3a004ac7ad137e">uint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_ogre_1_1_depth_buffer.html#aab0756add3d02bac99eab8e030434def">AvailableDepthFormats</a></td></tr>
<tr class="memdesc:aab0756add3d02bac99eab8e030434def"><td class="mdescLeft">&#160;</td><td class="mdescRight">During initialization DefaultDepthBufferFormat is overriden with a supported format.  <a href="struct_ogre_1_1_depth_buffer.html#aab0756add3d02bac99eab8e030434def">More...</a><br /></td></tr>
<tr class="separator:aab0756add3d02bac99eab8e030434def"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafb897d94a93c2bd3b129e01e2ba066e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group___image.html#ga71f09fe41a1db41186262f1aa5814a18">PixelFormatGpu</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_ogre_1_1_depth_buffer.html#aafb897d94a93c2bd3b129e01e2ba066e">DefaultDepthBufferFormat</a></td></tr>
<tr class="separator:aafb897d94a93c2bd3b129e01e2ba066e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An abstract class that contains a depth/stencil buffer. </p>
<p>Depth Buffers can be attached to render targets. Note we handle Depth &amp; Stencil together. <a class="el" href="struct_ogre_1_1_depth_buffer.html" title="An abstract class that contains a depth/stencil buffer.">DepthBuffer</a> sharing is handled automatically for you. However, there are times where you want to specifically control depth buffers to achieve certain effects or increase performance. You can control this by hinting <a class="el" href="namespace_ogre.html" title="bswapNN may be defined as macros in &lt;sys/endian.h&gt; or &lt;sys/bswap.h&gt;">Ogre</a> with POOL IDs. Created depth buffers can live in different pools, or all together in the same one. Usually, a depth buffer can only be attached to a RenderTarget if it's dimensions are bigger and have the same bit depth and same multisample settings. Depth Buffers are created automatically for new RTs when needed, and stored in the pool where the RenderTarget should have drawn from. By default, all RTs have the <a class="el" href="class_ogre_1_1_id.html" title="Usage: OGRE_NEW SceneNode( Id::generateNewId&lt; Node &gt;() )">Id</a> POOL_DEFAULT, which means all depth buffers are stored by default in that pool. By choosing a different <a class="el" href="class_ogre_1_1_pool.html" title="Template class describing a simple pool of items.">Pool</a> <a class="el" href="class_ogre_1_1_id.html" title="Usage: OGRE_NEW SceneNode( Id::generateNewId&lt; Node &gt;() )">Id</a> for a specific RenderTarget, that RT will only retrieve depth buffers from <em>that</em> pool, therefore not conflicting with sharing depth buffers with other RTs (such as shadows maps). Setting an RT to POOL_MANUAL_USAGE means <a class="el" href="namespace_ogre.html" title="bswapNN may be defined as macros in &lt;sys/endian.h&gt; or &lt;sys/bswap.h&gt;">Ogre</a> won't manage the <a class="el" href="struct_ogre_1_1_depth_buffer.html" title="An abstract class that contains a depth/stencil buffer.">DepthBuffer</a> for you (not recommended) RTs with POOL_NO_DEPTH are very useful when you don't want to create a <a class="el" href="struct_ogre_1_1_depth_buffer.html" title="An abstract class that contains a depth/stencil buffer.">DepthBuffer</a> for it. You can still manually attach a depth buffer though as internally POOL_NO_DEPTH &amp; POOL_MANUAL_USAGE are handled in the same way.</p>
<p>Behavior is consistent across all render systems, if, and only if, the same RSC flags are set RSC flags that affect this class are:</p><ul>
<li>RSC_RTT_SEPARATE_DEPTHBUFFER: The RTT can create a custom depth buffer different from the main depth buffer. This means, an RTT is able to not share it's depth buffer with the main window if it wants to.</li>
<li>RSC_RTT_MAIN_DEPTHBUFFER_ATTACHABLE: When RSC_RTT_SEPARATE_DEPTHBUFFER is set, some APIs (ie. OpenGL w/ FBO) don't allow using the main depth buffer for offscreen RTTs. When this flag is set, the depth buffer can be shared between the main window and an RTT.</li>
<li>RSC_RTT_DEPTHBUFFER_RESOLUTION_LESSEQUAL: When this flag isn't set, the depth buffer can only be shared across RTTs who have the EXACT same resolution. When it's set, it can be shared with RTTs as long as they have a resolution less or equal than the depth buffer's.</li>
</ul>
<dl class="section remark"><dt>Remarks</dt><dd>Design discussion <a href="http://www.ogre3d.org/forums/viewtopic.php?f=4&t=53534&p=365582">http://www.ogre3d.org/forums/viewtopic.php?f=4&amp;t=53534&amp;p=365582</a> </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Matias N. Goldberg </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a5b113673ee58204611c3435ee59b7225"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b113673ee58204611c3435ee59b7225">&#9670;&nbsp;</a></span>DepthFormatsMask</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="struct_ogre_1_1_depth_buffer.html#a5b113673ee58204611c3435ee59b7225">Ogre::DepthBuffer::DepthFormatsMask</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5b113673ee58204611c3435ee59b7225aa6724a255845f99abc25abaff6ac6183"></a>DFM_D32&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5b113673ee58204611c3435ee59b7225a73a587e516857ae5f3b0d019b712476d"></a>DFM_D24&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5b113673ee58204611c3435ee59b7225a5d34cd4789c64c96712df4ea09ef8d09"></a>DFM_D16&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a5b113673ee58204611c3435ee59b7225a5beda99101555b15ed1a2e4d66c9efe0"></a>DFM_S8&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="a9854c57374adef41216bae68544a5b7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9854c57374adef41216bae68544a5b7e">&#9670;&nbsp;</a></span>PoolId</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="struct_ogre_1_1_depth_buffer.html#a9854c57374adef41216bae68544a5b7e">Ogre::DepthBuffer::PoolId</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a9854c57374adef41216bae68544a5b7ea569228ed0fdd8d428a5117026b6d010e"></a>POOL_NO_DEPTH&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9854c57374adef41216bae68544a5b7ea35634a45046af55e08feb81bd5ecbb94"></a>OGRE_DEPRECATED_ENUM_VER&#160;</td><td class="fielddoc"><p>Deprecated. </p>
<pre class="fragment">        Do NOT use this flag directly. It made sense in Ogre 2.1
        It no longer makes sense externally in Ogre 2.2

        Depth buffers are now created like regular TextureGpu and are
        set directly to RTV (RenderTextureViews) aka RenderPassDescriptor

        See https://forums.ogre3d.org/viewtopic.php?p=548491#p548491
        See samples that setup depth RTVs such as:

        Samples/Media/2.0/scripts/Compositors/IrradianceFieldRaster.compositor
        Samples/Media/2.0/scripts/Compositors/StencilTest.compositor
        Samples/Media/2.0/scripts/Compositors/Tutorial_ReconstructPosFromDepth.compositor

        See https://ogrecave.github.io/ogre-next/api/latest/_ogre22_changes.html
        for documentation about RTVs. 
</pre> </td></tr>
<tr><td class="fieldname"><a id="a9854c57374adef41216bae68544a5b7ea00a687046bfe7a9ebd7f34256d3fbcca"></a>POOL_DEFAULT&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a9854c57374adef41216bae68544a5b7ea35634a45046af55e08feb81bd5ecbb94"></a>OGRE_DEPRECATED_ENUM_VER&#160;</td><td class="fielddoc"><p>Deprecated. </p>
<pre class="fragment">        Do NOT use this flag directly. It made sense in Ogre 2.1
        It no longer makes sense externally in Ogre 2.2

        Depth buffers are now created like regular TextureGpu and are
        set directly to RTV (RenderTextureViews) aka RenderPassDescriptor

        See https://forums.ogre3d.org/viewtopic.php?p=548491#p548491
        See samples that setup depth RTVs such as:

        Samples/Media/2.0/scripts/Compositors/IrradianceFieldRaster.compositor
        Samples/Media/2.0/scripts/Compositors/StencilTest.compositor
        Samples/Media/2.0/scripts/Compositors/Tutorial_ReconstructPosFromDepth.compositor

        See https://ogrecave.github.io/ogre-next/api/latest/_ogre22_changes.html
        for documentation about RTVs. 
</pre> </td></tr>
<tr><td class="fieldname"><a id="a9854c57374adef41216bae68544a5b7ea5f03ed32b2322daad0f7799072e37cea"></a>NO_POOL_EXPLICIT_RTV&#160;</td><td class="fielddoc"><p>The depth buffer doesn't come from a pool, either because the <a class="el" href="class_ogre_1_1_texture_gpu.html">TextureGpu</a> is already a depth buffer, or it's explicitly set in an RTV. </p>
</td></tr>
<tr><td class="fieldname"><a id="a9854c57374adef41216bae68544a5b7eaf4cd568faf89ee1f03710fefbf8386ca"></a>POOL_INVALID&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aab0756add3d02bac99eab8e030434def"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab0756add3d02bac99eab8e030434def">&#9670;&nbsp;</a></span>AvailableDepthFormats</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_ogre.html#a9212e2b4c7d29d6fae3a004ac7ad137e">uint8</a> Ogre::DepthBuffer::AvailableDepthFormats</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>During initialization DefaultDepthBufferFormat is overriden with a supported format. </p>
<p>This can be troublesome when creating the first render window, as you cannot tell <a class="el" href="namespace_ogre.html" title="bswapNN may be defined as macros in &lt;sys/endian.h&gt; or &lt;sys/bswap.h&gt;">Ogre</a> which format do you wish to use for that window.</p>
<p>That's where AvailableDepthFormats comes in:</p>
<p>Before initialization user can set this mask to inform which formats they want to use. <a class="el" href="namespace_ogre.html" title="bswapNN may be defined as macros in &lt;sys/endian.h&gt; or &lt;sys/bswap.h&gt;">Ogre</a> will go from best format to worst until a supported one is found. The default value is all bits set.</p>
<p>Set this to 0 to never use depth buffers. If you only wish render windows to not use depth buffers, then create the window with miscParam["depth_buffer"] = "no";</p>
<p>After initialization the mask is left untouched</p>
<p>See <a class="el" href="struct_ogre_1_1_depth_buffer.html#a5b113673ee58204611c3435ee59b7225">DepthBuffer::DepthFormatsMask</a> </p>

</div>
</div>
<a id="aafb897d94a93c2bd3b129e01e2ba066e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafb897d94a93c2bd3b129e01e2ba066e">&#9670;&nbsp;</a></span>DefaultDepthBufferFormat</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___image.html#ga71f09fe41a1db41186262f1aa5814a18">PixelFormatGpu</a> Ogre::DepthBuffer::DefaultDepthBufferFormat</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="_ogre_depth_buffer_8h.html">OgreDepthBuffer.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_ogre.html">Ogre</a></li><li class="navelem"><a class="el" href="struct_ogre_1_1_depth_buffer.html">DepthBuffer</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
